# Feature Specification: Phase I - In-Memory Python Console Todo App

**Feature Branch**: `001-phase1-todo-cli`
**Created**: 2026-01-17
**Status**: Draft
**Input**: User description: "Build a command-line todo application that stores tasks in memory using Claude Code and Spec-Kit Plus"

## Technology Requirements *(mandatory for Phase I)*

| Component | Requirement |
|-----------|-------------|
| Package Manager | UV (mandatory) |
| Language | Python 3.13+ (mandatory) |
| Development Tool | Claude Code |
| Spec Management | Spec-Kit Plus |

## Coding Standards *(per constitution)*

All implementation MUST adhere to coding standards defined in `.specify/memory/constitution.md`:

### Test-First Development (NON-NEGOTIABLE)
- Tests MUST be written before implementation (Red phase)
- Tests MUST fail before implementation begins
- Implementation MUST make tests pass (Green phase)
- Code MUST be refactored while keeping tests green (Refactor phase)

### Clean Architecture
Code MUST follow separation of concerns:
- **Domain Layer** (`src/models/`): Task entity - no framework dependencies
- **Application Layer** (`src/services/`): Task management logic
- **Presentation Layer** (`src/main.py`): CLI interface

### Clean Code Standards
- Follow PEP 8 style guidelines
- Prioritize readability and type safety
- Target 90%+ test coverage
- Use type hints for all functions

### Spec-Driven Development
- No code may be written without an approved Task ID
- All implementation MUST be generated by Claude Code
- No manual coding allowed

## Project Structure *(mandatory)*

```
/
├── src/                    # Python source code
│   ├── __init__.py
│   ├── main.py             # CLI entry point
│   ├── models/             # Task entity
│   └── services/           # Task management logic
├── specs/                  # Specification history folder
│   └── 001-phase1-todo-cli/
│       ├── spec.md
│       ├── plan.md
│       └── tasks.md
├── tests/                  # Test files
├── README.md               # Setup instructions
├── CLAUDE.md               # Claude Code instructions
├── pyproject.toml          # UV/Python project config
└── .specify/               # Spec-Kit Plus templates
```

## User Scenarios & Testing *(mandatory)*

### User Story 1 - Add Task (Priority: P1)

As a user, I want to add a new task with a title and description so that I can capture work items to track.

**Why this priority**: Adding tasks is the foundational operation - without it, no other features can function.

**Independent Test**: Can be fully tested by running the add command and verifying the task appears in the list.

**Acceptance Scenarios**:

1. **Given** the application is running, **When** I add a task with title "Buy groceries" and description "Milk, eggs, bread", **Then** the task is created with a unique sequential ID and a confirmation message is displayed
2. **Given** the application is running, **When** I add a task with only a title "Call mom", **Then** the task is created with an empty description
3. **Given** the application is running, **When** I try to add a task without a title, **Then** an error message "Title is required" is displayed

---

### User Story 2 - List Tasks (Priority: P1)

As a user, I want to view all my tasks with their status indicators so that I can see what needs to be done.

**Why this priority**: Viewing tasks is essential for users to see their work and make decisions.

**Independent Test**: Can be tested by adding tasks and running the list command to verify all tasks display correctly.

**Acceptance Scenarios**:

1. **Given** tasks exist in memory, **When** I list all tasks, **Then** I see all tasks with their ID, title, description, and status indicator
2. **Given** no tasks exist, **When** I list all tasks, **Then** I see a message "No tasks found"
3. **Given** tasks exist with mixed statuses, **When** I list all tasks, **Then** completed tasks show ✓ and pending tasks show ☐

---

### User Story 3 - Update Task (Priority: P1)

As a user, I want to update task details so that I can correct or modify information as needed.

**Why this priority**: Users need to correct mistakes or update task information as circumstances change.

**Independent Test**: Can be tested by creating a task, updating its fields, and verifying the changes persist in memory.

**Acceptance Scenarios**:

1. **Given** a task exists with ID 1, **When** I update its title to "Buy organic groceries", **Then** the task title is changed and confirmation is shown
2. **Given** a task exists with ID 1, **When** I update its description, **Then** the description is changed and confirmation is shown
3. **Given** no task exists with ID 99, **When** I try to update it, **Then** an error message "Task ID not found" is displayed

---

### User Story 4 - Delete Task (Priority: P1)

As a user, I want to delete tasks by ID so that I can remove items I no longer need to track.

**Why this priority**: Users need to clean up completed or irrelevant tasks from their list.

**Independent Test**: Can be tested by creating a task, deleting it, and verifying it no longer appears in the list.

**Acceptance Scenarios**:

1. **Given** a task exists with ID 1, **When** I delete it, **Then** the task is removed from memory and confirmation is shown
2. **Given** no task exists with ID 99, **When** I try to delete it, **Then** an error message "Task ID not found" is displayed
3. **Given** a task is deleted, **When** I list all tasks, **Then** the deleted task no longer appears

---

### User Story 5 - Mark Task Complete/Incomplete (Priority: P1)

As a user, I want to mark tasks as complete or incomplete so that I can track my progress.

**Why this priority**: Task completion tracking is the core purpose of a todo application.

**Independent Test**: Can be tested by creating a task, marking it complete, then toggling it back to incomplete.

**Acceptance Scenarios**:

1. **Given** a pending task exists with ID 1, **When** I mark it as complete, **Then** the task status changes to "complete" and shows ✓ indicator
2. **Given** a completed task exists with ID 1, **When** I mark it as incomplete, **Then** the task status changes back to "pending" and shows ☐ indicator
3. **Given** no task exists with ID 99, **When** I try to mark it complete, **Then** an error message "Task ID not found" is displayed

---

### Edge Cases

- What happens when user tries to access a non-existent task ID? → Display error "Task ID not found"
- What happens when user enters empty task title? → Display error "Title is required"
- What happens when user enters very long title (>200 chars)? → Accept and truncate display with "..."
- What happens when application restarts? → All tasks are lost (in-memory, no persistence)
- What happens when user enters non-numeric ID? → Display error "Invalid ID format"

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: System MUST allow users to add tasks with a title (required) and description (optional)
- **FR-002**: System MUST generate unique sequential IDs for each task automatically (IDs reset on application restart as data is in-memory only)
- **FR-003**: System MUST display all tasks with ID, title, description, and status indicator (✓ complete, ☐ pending)
- **FR-004**: System MUST allow users to update task title and description by task ID
- **FR-005**: System MUST allow users to delete tasks by ID
- **FR-006**: System MUST allow users to toggle task status between complete and incomplete
- **FR-007**: System MUST store all data in memory only (no persistence between sessions - data is lost on restart)
- **FR-008**: System MUST provide clear error messages for invalid inputs
- **FR-009**: System MUST provide a help command showing all available commands
- **FR-010**: System MUST use UV as the package manager
- **FR-011**: System MUST be compatible with Python 3.13+

### Key Entities

- **Task**: Represents a single todo item stored in memory
  - ID (unique sequential identifier, auto-generated, resets on restart)
  - Title (required, text, max 200 characters)
  - Description (optional, text)
  - Status (pending/complete, default: pending)
  - Created At (timestamp)

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: Users can add a new task in under 5 seconds using the CLI
- **SC-002**: Users can view all tasks instantly (under 1 second for up to 100 tasks)
- **SC-003**: 100% of CLI commands provide immediate feedback (success or error message)
- **SC-004**: All 5 user stories are fully functional and testable
- **SC-005**: Application starts and is ready for input in under 2 seconds
- **SC-006**: Users can complete full task lifecycle (add → list → update → complete → delete) in under 30 seconds
- **SC-007**: Error messages clearly indicate what went wrong and how to fix it

## Assumptions

- Users are comfortable with command-line interfaces
- Tasks are stored only for the current session (in-memory, no file/database persistence)
- Single user per session (no multi-user support needed)
- English language interface only
- No authentication required (Phase I is local-only)
- UV and Python 3.13+ are installed on the user's system
- Project follows the defined `/src` folder structure

## Out of Scope (Future Phases)

- Data persistence between sessions (Phase II)
- Priority levels (Phase II)
- Tags and categories (Phase II)
- Due dates and reminders (Phase II)
- Search and filter (Phase II)
- Sorting options (Phase II)
- Recurring tasks (Phase II)
- Web or mobile interface (Phase II)
- Multi-user support (Phase II)
- Cloud synchronization (Phase IV/V)
- AI-powered features (Phase III)
